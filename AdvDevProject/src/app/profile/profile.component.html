<app-header></app-header>

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <!--  This file has been downloaded from bootdey.com    @bootdey on twitter -->
  <!--  All snippets are MIT license http://bootdey.com/license -->
  <title>bs4 profile with feed item - Bootdey.com</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="http://netdna.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
  <style type="text/css">



  </style>
</head>

<body>
  <link rel="stylesheet" href="//cdn.materialdesignicons.com/3.7.95/css/materialdesignicons.min.css">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="card-body">
            <div class="row">
              <div class="col-lg-4">
                <div class="border-bottom text-center pb-4">
                  <img src="{{this.profile}}" alt="profile" class="img-xs rounded-circle" width="230">
                  <div style="margin-top: -50px;">
                    <p-fileUpload mode="basic" [auto]="setButTrue" chooseLabel=" " [customUpload]="setButTrue"
                      accept="image/*" (uploadHandler)="myUploader($event)" *ngIf='this.uid==this.selfid'>
                    </p-fileUpload>
                  </div>
                  <div class="mb-3">
                    <h3>{{this.name}}</h3>
                    <div class="d-flex align-items-center justify-content-center">
                      <h5 class="mb-0 mr-2 text-muted">{{this.country}}</h5>
                      <div class="br-wrapper br-theme-css-stars"><select id="profile-rating" name="rating"
                          autocomplete="off" style="display: none;">
                          <option value="1">1</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5</option>
                        </select>
                        <div class="br-widget"><a href="#" data-rating-value="1" data-rating-text="1"
                            class="br-selected br-current"></a><a href="#" data-rating-value="2"
                            data-rating-text="2"></a><a href="#" data-rating-value="3" data-rating-text="3"></a><a
                            href="#" data-rating-value="4" data-rating-text="4"></a><a href="#" data-rating-value="5"
                            data-rating-text="5"></a></div>
                      </div>
                    </div>
                  </div>
                  <p class="w-75 mx-auto mb-3">{{this.udesc}}</p>
                  <div class="text-center mt-4 mt-md-0" *ngIf='this.uid!=this.selfid'>
                    <button class="{{this.followbtcolor}}"
                      (click)="SwitchFollow()">{{this.followtext}}</button>&nbsp;&nbsp;

                    <!-- <button class="btn btn-primary">Message</button> -->
                  </div>
                  <button pButton pRipple type="button" label="{{this.following}} Following"
                    class="p-button-secondary p-button-text float-left" (click)="showFollowingDialog()"></button>
                  <button pButton pRipple type="button" label="{{this.follower}} Follower"
                    class="p-button-secondary p-button-text float-right" (click)="showFollowerDialog()"></button>
                </div>

                <div class="border-bottom py-4">
                  <p>Skills</p>
                  <div>
                    <label class="badge badge-outline-dark">{{this.skills}}</label>
                    <!-- <label class="badge badge-outline-dark">รักชาติ</label>
                      <label class="badge badge-outline-dark">รักชาติ</label>
                      <label class="badge badge-outline-dark">รักชาติ</label>
                      <label class="badge badge-outline-dark">รักชาติ</label>   -->
                  </div>
                </div>
                <div class="border-bottom py-4">
                  <div class="d-flex mb-3">
                    <div class="progress progress-md flex-grow">
                      <div class="progress-bar bg-primary" role="progressbar" aria-valuenow="55" style="width: 55%"
                        aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                  </div>
                  <div class="d-flex">
                    <div class="progress progress-md flex-grow">
                      <div class="progress-bar bg-success" role="progressbar" aria-valuenow="75" style="width: 75%"
                        aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                  </div>
                </div>
                <div class="py-4">
                  <p class="clearfix">
                    <span class="float-left">
                      Birthday
                    </span>
                    <span class="float-right text-muted">
                      {{this.birthday}}
                    </span>
                  </p>
                  <p class="clearfix">
                    <span class="float-left">
                      Phone
                    </span>
                    <span class="float-right text-muted">
                      {{this.phone}}
                    </span>
                  </p>
                  <p class="clearfix">
                    <span class="float-left">
                      Mail
                    </span>
                    <span class="float-right text-muted">
                      {{this.mail}}
                    </span>
                  </p>
                  <p class="clearfix">
                    <span class="float-left">
                      Facebook
                    </span>
                    <span class="float-right text-muted">
                      <a href="#">{{this.fb}}</a>
                    </span>
                  </p>
                  <p class="clearfix">
                    <span class="float-left">
                      Twitter
                    </span>
                    <span class="float-right text-muted">
                      <a href="#">{{this.twitter}}</a>
                    </span>
                  </p>
                </div>
                <button class="btn btn-primary btn-block mb-2">Preview</button>
              </div>
              <div class="col-lg-8">
                <div class="d-block d-md-flex justify-content-between mt-4 mt-md-0">

                </div>
                <div class="mt-4 py-2 border-top border-bottom ">
                  <ul class="nav profile-navbar">
                    <li class="nav-item" *ngIf='this.uid == this.selfid'>
                      <a class="nav-link" routerLink="/info">
                        <i class="mdi mdi-account-outline"></i>
                        Edit Profile
                      </a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link active" href="#">
                        <i class="mdi mdi-newspaper"></i>
                        Feed
                      </a>
                    </li>
                    <!-- <li class="nav-item">
                      <a class="nav-link" routerLink="/calendar">
                        <i class="mdi mdi-calendar"></i>
                        Calendar
                      </a>
                    </li> -->
                  </ul>
                </div>
                <div class="profile-feed">

                  <div class="d-flex align-items-start profile-feed-item" *ngFor="let post of allpost; let i = index;">
                    <img src="{{this.profile}}" alt="profile" class="img-xs rounded-circle" width="100">
                    <div class="ml-4">
                      <h6>
                        {{this.name}} posted <a routerLink="/story/{{post.UserID}}/{{post.StoryID}}">{{post.Storyname}}</a>
                        <small class="ml-4 text-muted"><i class="mdi mdi-clock mr-1"></i>{{post.StoryTime}}</small>
                        &nbsp;<p-tag styleClass="p-mr-2" value="{{post.Tagname}}" [rounded]="true"></p-tag>
                        &nbsp;&nbsp;
                        <p-dropdown class="align-right" [options]="manage" [(ngModel)]="slmanage"
                          *ngIf="this.selfid==post.UserID" [itemSize]="3" placeholder="จัดการโพสต์" [showClear]="true"
                          (click)="ManagePost(post.StoryID,post.Storyname,post.Tag,post.Targetgroup,post.StoryDesc,post.Coverphoto)">
                          <br>
                        </p-dropdown>
                      </h6>
                      <p class="title">
                        {{post.StoryDesc}}
                      </p>
                      <div *ngIf="post.Coverphoto!='' && post.Coverphoto!= null">
                        <img src="http://203.154.83.62:1507/img/coverphoto/{{post.Coverphoto}}" alt="sample"
                          class="rounded mw-100">
                      </div>

                      <p class="small text-muted mt-2 mb-0">
                        <span>
                          <fa-icon [icon]="iconlike" style={{this.iconstyles[i]}}
                            (click)="Like(i,post.StoryID,post.AmountOfLikes)"></fa-icon>
                          {{post.AmountOfLikes}} &nbsp;
                        </span>
                        <span>
                          <fa-icon [icon]="comment" style="width: 20px;"
                            (click)="showCommentDialog(post.UserID,post.StoryID)"></fa-icon>
                          <!-- {{post.AmountOfComments}} -->
                          Comment
                        </span>
                      </p>
                    </div>
                  </div>
                  <p-dialog header="Edit Post" [(visible)]="displayBasic2" [style]="{width: '50vw'}"
                    [baseZIndex]="10000">
                    <div class="right">
                      <div class="col-md-7 col-md-offset-2">
                        <input id="login" class="form-control" name="login" placeholder="Storyname"
                          [(ngModel)]="this.storyname"><br>
                      </div>
                      <p-dropdown [options]="tags" [(ngModel)]="tag" [itemSize]="5" placeholder="Select Tags"
                        [showClear]="true"><br>
                      </p-dropdown> &nbsp;
                      <p-dropdown [options]="privacy" [(ngModel)]="target" [itemSize]="3" placeholder="Privacy"
                        [showClear]="true"><br>
                      </p-dropdown>
                    </div>
                    <br><br>
                    <div class="panel-body" type="button">
                      <textarea class="form-control" rows="2" placeholder="มีเรื่องราวใหม่ๆมาแชร์ไหม??"
                        [(ngModel)]="this.storydesc"></textarea>
                      <div class="mar-top clearfix">
                        <button class="btn btn-sm btn-primary pull-right" type="submit" (click)="EditPost()"><i
                            class="fa fa-pencil fa-fw"></i> Save</button>
                        <!-- <fa-icon [icon]="iconimg" style="width: 20px;" ></fa-icon> -->
                        <p-fileUpload [auto]="setButCoverTrue" chooseLabel=" " [customUpload]="setButCoverTrue"
                          accept="image/*" (uploadHandler)="UploadCoverPhoto($event)">
                          <ng-template pTemplate="content">
                            <ul *ngIf="uploadedCoverFiles.length">
                              <li *ngFor="let file of uploadedCoverFiles">{{file.name}} - {{file.size}} bytes</li>
                            </ul>
                          </ng-template>
                        </p-fileUpload>
                        <!-- <i class="" (click)="showBasicDialog() "></i> -->
                      </div>
                    </div>
                    <ng-template pTemplate="footer">
                    </ng-template>
                  </p-dialog>
                  <p-dialog header="Following" [(visible)]="displayFollowing" [modal]="true" [style]="{width: '50vw'}"
                    [baseZIndex]="10000" [draggable]="false" [resizable]="false">
                    <div *ngFor="let follow of allfollowing; let i = index;">
                      <div class="timeline-icon"> <a routerLink="/profile/{{follow.UserID}}"
                          class="btn-link text-semibold" *ngIf="follow.Profileimg != null;else elseblock">
                          <img src="http://203.154.83.62:1507/img/profile/{{follow.Profileimg}}" alt="Profile picture" (click)="GotoUser(follow.UserID)"
                            width="500"></a>
                        <ng-template #elseblock>
                          <a routerLink="/profile/{{follow.UserID}}" class="btn-link text-semibold">
                            <img src="https://tcc-chaokoh.com/themes/default/asset/images/icon-user-default.png" (click)="GotoUser(follow.UserID)"
                              alt="Profile picture" width="500"></a>
                        </ng-template>
                      </div>
                      <span>&nbsp;&nbsp;&nbsp;&nbsp;{{follow.Firstname}} {{follow.Lastname}}</span>
                      <br><br><hr>
                      <!-- <button class='btn btn-primary'>Followed</button> -->
                    </div>
                  </p-dialog>
                  <p-dialog header="Follower" [(visible)]="displayFollower" [modal]="true" [style]="{width: '50vw'}" 
                    [baseZIndex]="10000" [draggable]="false" [resizable]="false">
                    <div *ngFor="let follow of allfollower; let i = index;">
                      <div class="timeline-icon"> <a routerLink="/profile/{{follow.FollowerID}}"
                          class="btn-link text-semibold" *ngIf="follow.Profileimg != null;else elseblock">
                          <img src="http://203.154.83.62:1507/img/profile/{{follow.Profileimg}}" alt="Profile picture" (click)="GotoUser(follow.UserID)"
                            width="500"></a>
                        <ng-template #elseblock>
                          <a routerLink="/profile/{{follow.FollowerID}}" class="btn-link text-semibold">
                            <img src="https://tcc-chaokoh.com/themes/default/asset/images/icon-user-default.png" (click)="GotoUser(follow.UserID)"
                              alt="Profile picture" width="500"></a>
                        </ng-template>
                      </div>
                      <span>&nbsp;&nbsp;&nbsp;&nbsp;{{follow.Firstname}} {{follow.Lastname}}</span>
                      <br><br><hr>
                    </div>
                  </p-dialog>
                  <p-dialog header="comment" [(visible)]="display" [style]="{width: '50vw'}" [baseZIndex]="10000">
                    <div class="right">
                      <div *ngFor="let comments of allcomment; let j = index;">
                        <h5>{{this.comments.Firstname}} {{this.comments.Lastname}}
                          {{this.comments.CommentTime}}</h5>
                        <div class="timeline-icon"> <a routerLink="/profile/{{comments.UserID}}"
                            class="btn-link text-semibold" *ngIf="comments.Profileimg != null;else elseblock">
                            <img src="http://203.154.83.62:1507/img/profile/{{comments.Profileimg}}"
                              alt="Profile picture" width="500"></a>
                          <ng-template #elseblock>
                            <a routerLink="/profile/{{comments.UserID}}" class="btn-link text-semibold">
                              <img src="https://tcc-chaokoh.com/themes/default/asset/images/icon-user-default.png"
                                alt="Profile picture" width="500"></a>
                          </ng-template>

                        </div>
                        <p>{{this.comments.CommentDes}}
                        </p>
                        <hr><br>
                      </div>
                      <div class="col-md-7 col-md-offset-2">
                        <input id="text" class="form-control" name="comment" placeholder="new comment"
                          [(ngModel)]="this.commenttext"><br>
                        <button class="btn-primary" (click)="AddComment()">Send</button>
                      </div>
                    </div>
                    <br><br>
                    <ng-template pTemplate="footer">
                    </ng-template>
                  </p-dialog>
                  <p-dialog header="ไม่สามารถแสดงความคิดเห็นได้" [(visible)]="displayCantComment"
                    [style]="{width: '20vw'}" [baseZIndex]="10000">
                    <p>คุณต้องติดตามผู้ใช้ท่านนี้ก่อน</p>
                  </p-dialog>
                  <!-- <div class="d-flex align-items-start profile-feed-item">
                        <img src="https://www.posttoday.com/media/content/2016/12/28/BB5B5C39B42749668D77807DB9821F75.jpg" alt="profile" class="img-xs rounded-circle" width="100">
                      <div class="ml-4">
                        <h6>
                            ประยุทธ์ จันทร์อังคารพุธ
                          <small class="ml-4 text-muted"><i class="mdi mdi-clock mr-1"></i>10 hours</small>
                        </h6>
                        <p>
                          ในที่สุดก็เดินทางมาจนใกล้ตอนสุดท้ายมากขึ้นทุกที กับดาบพิฆาตอสูร คุณคือผู้กำหนดตอนจบของเรื่องนี้
                        </p>
                        <img src="https://i.pinimg.com/originals/8d/ea/78/8dea78c95f9e8b3b9ba97db1d0d26d0f.jpg" alt="sample" class="rounded mw-100">                                                        
                        <p class="small text-muted mt-2 mb-0">
                          <span>
                            <i class="mdi mdi-star mr-1"></i>4
                          </span>
                          <span class="ml-2">
                            <i class="mdi mdi-comment mr-1"></i>11
                          </span>
                          <span class="ml-2">
                            <i class="mdi mdi-reply"></i>
                          </span>
                        </p>
                      </div>
                    </div> -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <p-confirmDialog [style]="{width: '50vw'}" [baseZIndex]="10000" rejectButtonStyleClass="p-button-text"></p-confirmDialog>
  <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
  <script src="http://netdna.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <script type="text/javascript">

  </script>
</body>

</html>